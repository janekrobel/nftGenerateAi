{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Reporter = exports.SENTRY_DSN = void 0;\nconst errors_1 = require(\"../core/errors\");\nconst execution_mode_1 = require(\"../core/execution-mode\");\nconst errors_2 = require(\"../core/providers/errors\");\nconst ci_detection_1 = require(\"../util/ci-detection\");\nconst global_dir_1 = require(\"../util/global-dir\");\nconst packageInfo_1 = require(\"../util/packageInfo\");\nconst transport_1 = require(\"./transport\");\nexports.SENTRY_DSN = \"https://38ba58bb85fa409e9bb7f50d2c419bc2@o385026.ingest.sentry.io/5224869\";\n/**\n * This class acts as a global singleton for reporting errors through Sentry.\n */\nclass Reporter {\n  constructor() {\n    this.initialized = false;\n    this.verbose = false;\n    this.enabled = true;\n    if ((0, ci_detection_1.isRunningOnCiServer)()) {\n      this.enabled = false;\n    }\n    // set HARDHAT_ENABLE_SENTRY=true to enable sentry during development (for local testing)\n    if ((0, execution_mode_1.isLocalDev)() && process.env.HARDHAT_ENABLE_SENTRY === undefined) {\n      this.enabled = false;\n    }\n  }\n  static reportError(error) {\n    const instance = Reporter._getInstance();\n    if (!instance.enabled) {\n      return;\n    }\n    if (!Reporter.shouldReport(error)) {\n      return;\n    }\n    instance.init();\n    const Sentry = require(\"@sentry/node\");\n    Sentry.setExtra(\"verbose\", instance.verbose);\n    Sentry.setExtra(\"configPath\", instance.configPath);\n    Sentry.setExtra(\"nodeVersion\", process.version);\n    const hardhatVersion = (0, packageInfo_1.getHardhatVersion)();\n    Sentry.setExtra(\"hardhatVersion\", hardhatVersion);\n    Sentry.captureException(error);\n    return true;\n  }\n  /**\n   * Enable or disable reporting. When disabled, all calls to `reportError` are\n   * no-ops.\n   */\n  static setEnabled(enabled) {\n    const instance = Reporter._getInstance();\n    instance.enabled = enabled;\n  }\n  /**\n   * Enable or disable verbose output. This is necessary to pass the correct\n   * environment variable to the transport subprocess.\n   */\n  static setVerbose(verbose) {\n    const instance = Reporter._getInstance();\n    instance.verbose = verbose;\n  }\n  /**\n   * The path to the hardhat config file. We use this when files are anonymized,\n   * since the hardhat config is the only file in the user's project that is not\n   * anonymized.\n   */\n  static setConfigPath(configPath) {\n    const instance = Reporter._getInstance();\n    instance.configPath = configPath;\n  }\n  /**\n   * Wait until all Sentry events were sent or until `timeout` milliseconds are\n   * elapsed.\n   *\n   * This needs to be used before calling `process.exit`, otherwise some events\n   * might get lost.\n   */\n  static async close(timeout) {\n    const instance = Reporter._getInstance();\n    if (!instance.enabled || !instance.initialized) {\n      return true;\n    }\n    const Sentry = await Promise.resolve().then(() => __importStar(require(\"@sentry/node\")));\n    return Sentry.close(timeout);\n  }\n  static shouldReport(error) {\n    if (errors_1.HardhatError.isHardhatError(error) && !error.errorDescriptor.shouldBeReported) {\n      return false;\n    }\n    if (errors_1.HardhatPluginError.isHardhatPluginError(error)) {\n      if (errors_1.NomicLabsHardhatPluginError.isNomicLabsHardhatPluginError(error)) {\n        return error.shouldBeReported;\n      }\n      // don't log errors from third-party plugins\n      return false;\n    }\n    // We don't report network related errors\n    if (error instanceof errors_2.ProviderError) {\n      return false;\n    }\n    if (!Reporter._hasTelemetryConsent()) {\n      return false;\n    }\n    return true;\n  }\n  static _getInstance() {\n    if (this._instance === undefined) {\n      this._instance = new Reporter();\n    }\n    return this._instance;\n  }\n  static _hasTelemetryConsent() {\n    const telemetryConsent = (0, global_dir_1.hasConsentedTelemetry)();\n    return telemetryConsent === true;\n  }\n  init() {\n    if (this.initialized) {\n      return;\n    }\n    const Sentry = require(\"@sentry/node\");\n    const linkedErrorsIntegration = new Sentry.Integrations.LinkedErrors({\n      key: \"parent\"\n    });\n    Sentry.init({\n      dsn: exports.SENTRY_DSN,\n      transport: (0, transport_1.getSubprocessTransport)(),\n      integrations: () => [linkedErrorsIntegration]\n    });\n    this.initialized = true;\n  }\n}\nexports.Reporter = Reporter;","map":{"version":3,"mappings":"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","names":["exports","Reporter","constructor","enabled","process","env","HARDHAT_ENABLE_SENTRY","undefined","reportError","error","instance","_getInstance","shouldReport","init","Sentry","require","setExtra","verbose","configPath","version","hardhatVersion","captureException","setEnabled","setVerbose","setConfigPath","close","timeout","initialized","errors_1","isHardhatError","errorDescriptor","shouldBeReported","isHardhatPluginError","isNomicLabsHardhatPluginError","errors_2","_hasTelemetryConsent","_instance","telemetryConsent","linkedErrorsIntegration","Integrations","LinkedErrors","key","dsn","transport","integrations"],"sources":["/Users/janrobel/Documents/PersonalProjekty/nftGenerateAi/clientAndContract/node_modules/hardhat/src/internal/sentry/reporter.ts"],"sourcesContent":["import {\n  HardhatError,\n  HardhatPluginError,\n  NomicLabsHardhatPluginError,\n} from \"../core/errors\";\nimport { isLocalDev } from \"../core/execution-mode\";\nimport { ProviderError } from \"../core/providers/errors\";\nimport { isRunningOnCiServer } from \"../util/ci-detection\";\nimport { hasConsentedTelemetry } from \"../util/global-dir\";\nimport { getHardhatVersion } from \"../util/packageInfo\";\n\nimport { getSubprocessTransport } from \"./transport\";\n\nexport const SENTRY_DSN =\n  \"https://38ba58bb85fa409e9bb7f50d2c419bc2@o385026.ingest.sentry.io/5224869\";\n\n/**\n * This class acts as a global singleton for reporting errors through Sentry.\n */\nexport class Reporter {\n  public static reportError(error: Error) {\n    const instance = Reporter._getInstance();\n\n    if (!instance.enabled) {\n      return;\n    }\n\n    if (!Reporter.shouldReport(error)) {\n      return;\n    }\n\n    instance.init();\n\n    const Sentry = require(\"@sentry/node\");\n    Sentry.setExtra(\"verbose\", instance.verbose);\n    Sentry.setExtra(\"configPath\", instance.configPath);\n    Sentry.setExtra(\"nodeVersion\", process.version);\n\n    const hardhatVersion = getHardhatVersion();\n    Sentry.setExtra(\"hardhatVersion\", hardhatVersion);\n\n    Sentry.captureException(error);\n\n    return true;\n  }\n\n  /**\n   * Enable or disable reporting. When disabled, all calls to `reportError` are\n   * no-ops.\n   */\n  public static setEnabled(enabled: boolean) {\n    const instance = Reporter._getInstance();\n    instance.enabled = enabled;\n  }\n\n  /**\n   * Enable or disable verbose output. This is necessary to pass the correct\n   * environment variable to the transport subprocess.\n   */\n  public static setVerbose(verbose: boolean) {\n    const instance = Reporter._getInstance();\n    instance.verbose = verbose;\n  }\n\n  /**\n   * The path to the hardhat config file. We use this when files are anonymized,\n   * since the hardhat config is the only file in the user's project that is not\n   * anonymized.\n   */\n  public static setConfigPath(configPath: string) {\n    const instance = Reporter._getInstance();\n    instance.configPath = configPath;\n  }\n\n  /**\n   * Wait until all Sentry events were sent or until `timeout` milliseconds are\n   * elapsed.\n   *\n   * This needs to be used before calling `process.exit`, otherwise some events\n   * might get lost.\n   */\n  public static async close(timeout: number): Promise<boolean> {\n    const instance = Reporter._getInstance();\n    if (!instance.enabled || !instance.initialized) {\n      return true;\n    }\n\n    const Sentry = await import(\"@sentry/node\");\n    return Sentry.close(timeout);\n  }\n\n  public static shouldReport(error: Error): boolean {\n    if (\n      HardhatError.isHardhatError(error) &&\n      !error.errorDescriptor.shouldBeReported\n    ) {\n      return false;\n    }\n\n    if (HardhatPluginError.isHardhatPluginError(error)) {\n      if (NomicLabsHardhatPluginError.isNomicLabsHardhatPluginError(error)) {\n        return error.shouldBeReported;\n      }\n\n      // don't log errors from third-party plugins\n      return false;\n    }\n\n    // We don't report network related errors\n    if (error instanceof ProviderError) {\n      return false;\n    }\n\n    if (!Reporter._hasTelemetryConsent()) {\n      return false;\n    }\n\n    return true;\n  }\n\n  private static _instance: Reporter;\n\n  private static _getInstance(): Reporter {\n    if (this._instance === undefined) {\n      this._instance = new Reporter();\n    }\n\n    return this._instance;\n  }\n\n  private static _hasTelemetryConsent(): boolean {\n    const telemetryConsent = hasConsentedTelemetry();\n\n    return telemetryConsent === true;\n  }\n\n  public enabled: boolean;\n  public initialized = false;\n  public verbose = false;\n  public configPath?: string;\n\n  private constructor() {\n    this.enabled = true;\n    if (isRunningOnCiServer()) {\n      this.enabled = false;\n    }\n\n    // set HARDHAT_ENABLE_SENTRY=true to enable sentry during development (for local testing)\n    if (isLocalDev() && process.env.HARDHAT_ENABLE_SENTRY === undefined) {\n      this.enabled = false;\n    }\n  }\n\n  public init() {\n    if (this.initialized) {\n      return;\n    }\n\n    const Sentry = require(\"@sentry/node\");\n\n    const linkedErrorsIntegration = new Sentry.Integrations.LinkedErrors({\n      key: \"parent\",\n    });\n\n    Sentry.init({\n      dsn: SENTRY_DSN,\n      transport: getSubprocessTransport(),\n      integrations: () => [linkedErrorsIntegration],\n    });\n\n    this.initialized = true;\n  }\n}\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}