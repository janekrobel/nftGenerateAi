{"ast":null,"code":"'use strict';\n\n/* istanbul ignore file: only for Node 12 */\nconst {\n  kConnected,\n  kSize\n} = require('../core/symbols');\nclass CompatWeakRef {\n  constructor(value) {\n    this.value = value;\n  }\n  deref() {\n    return this.value[kConnected] === 0 && this.value[kSize] === 0 ? undefined : this.value;\n  }\n}\nclass CompatFinalizer {\n  constructor(finalizer) {\n    this.finalizer = finalizer;\n  }\n  register(dispatcher, key) {\n    dispatcher.on('disconnect', () => {\n      if (dispatcher[kConnected] === 0 && dispatcher[kSize] === 0) {\n        this.finalizer(key);\n      }\n    });\n  }\n}\nmodule.exports = function () {\n  return {\n    WeakRef: global.WeakRef || CompatWeakRef,\n    FinalizationRegistry: global.FinalizationRegistry || CompatFinalizer\n  };\n};","map":{"version":3,"names":["kConnected","kSize","require","CompatWeakRef","constructor","value","deref","undefined","CompatFinalizer","finalizer","register","dispatcher","key","on","module","exports","WeakRef","global","FinalizationRegistry"],"sources":["/Users/janrobel/Documents/PersonalProjekty/nftGenerateAi/clientAndContract/node_modules/undici/lib/compat/dispatcher-weakref.js"],"sourcesContent":["'use strict'\n\n/* istanbul ignore file: only for Node 12 */\n\nconst { kConnected, kSize } = require('../core/symbols')\n\nclass CompatWeakRef {\n  constructor (value) {\n    this.value = value\n  }\n\n  deref () {\n    return this.value[kConnected] === 0 && this.value[kSize] === 0\n      ? undefined\n      : this.value\n  }\n}\n\nclass CompatFinalizer {\n  constructor (finalizer) {\n    this.finalizer = finalizer\n  }\n\n  register (dispatcher, key) {\n    dispatcher.on('disconnect', () => {\n      if (dispatcher[kConnected] === 0 && dispatcher[kSize] === 0) {\n        this.finalizer(key)\n      }\n    })\n  }\n}\n\nmodule.exports = function () {\n  return {\n    WeakRef: global.WeakRef || CompatWeakRef,\n    FinalizationRegistry: global.FinalizationRegistry || CompatFinalizer\n  }\n}\n"],"mappings":"AAAA,YAAY;;AAEZ;AAEA,MAAM;EAAEA,UAAU;EAAEC;AAAM,CAAC,GAAGC,OAAO,CAAC,iBAAiB,CAAC;AAExD,MAAMC,aAAa,CAAC;EAClBC,WAAW,CAAEC,KAAK,EAAE;IAClB,IAAI,CAACA,KAAK,GAAGA,KAAK;EACpB;EAEAC,KAAK,GAAI;IACP,OAAO,IAAI,CAACD,KAAK,CAACL,UAAU,CAAC,KAAK,CAAC,IAAI,IAAI,CAACK,KAAK,CAACJ,KAAK,CAAC,KAAK,CAAC,GAC1DM,SAAS,GACT,IAAI,CAACF,KAAK;EAChB;AACF;AAEA,MAAMG,eAAe,CAAC;EACpBJ,WAAW,CAAEK,SAAS,EAAE;IACtB,IAAI,CAACA,SAAS,GAAGA,SAAS;EAC5B;EAEAC,QAAQ,CAAEC,UAAU,EAAEC,GAAG,EAAE;IACzBD,UAAU,CAACE,EAAE,CAAC,YAAY,EAAE,MAAM;MAChC,IAAIF,UAAU,CAACX,UAAU,CAAC,KAAK,CAAC,IAAIW,UAAU,CAACV,KAAK,CAAC,KAAK,CAAC,EAAE;QAC3D,IAAI,CAACQ,SAAS,CAACG,GAAG,CAAC;MACrB;IACF,CAAC,CAAC;EACJ;AACF;AAEAE,MAAM,CAACC,OAAO,GAAG,YAAY;EAC3B,OAAO;IACLC,OAAO,EAAEC,MAAM,CAACD,OAAO,IAAIb,aAAa;IACxCe,oBAAoB,EAAED,MAAM,CAACC,oBAAoB,IAAIV;EACvD,CAAC;AACH,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}